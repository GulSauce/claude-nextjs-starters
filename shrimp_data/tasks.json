{
  "tasks": [
    {
      "id": "6f018171-2c0d-4a0c-bdd6-85d8fa9d77d1",
      "name": "타입 정의 및 데이터 스키마 설계",
      "description": "lib/types.ts, lib/rubrics.ts, lib/schemas.ts 생성 및 data/ 디렉토리 구조 확보. PRD.md의 데이터 모델을 정확히 TypeScript 타입으로 변환하고, 7개 루브릭 기준 상수와 등급 계산 함수를 구현하며, Zod v4 폼 검증 스키마를 정의한다.",
      "notes": "Zod v4 API 사용 (z.enum은 배열 리터럴 필요). schemas.ts를 types.ts와 분리하여 클라이언트 컴포넌트에서 Zod만 import 가능하게 함. TARGET_MODELS 상수는 schemas.ts에서 정의하되 types.ts의 TargetModel과 일관성 유지.",
      "status": "completed",
      "dependencies": [],
      "createdAt": "2026-02-23T07:23:20.770Z",
      "updatedAt": "2026-02-23T07:25:09.404Z",
      "relatedFiles": [
        {
          "path": "lib/types.ts",
          "type": "CREATE",
          "description": "핵심 TypeScript 타입 정의"
        },
        {
          "path": "lib/rubrics.ts",
          "type": "CREATE",
          "description": "루브릭 기준 상수 및 등급 계산 함수"
        },
        {
          "path": "lib/schemas.ts",
          "type": "CREATE",
          "description": "Zod v4 폼 검증 스키마"
        },
        {
          "path": "data/prompts/.gitkeep",
          "type": "CREATE",
          "description": "프롬프트 저장 디렉토리 유지"
        },
        {
          "path": "data/results/.gitkeep",
          "type": "CREATE",
          "description": "결과 저장 디렉토리 유지"
        },
        {
          "path": "docs/PRD.md",
          "type": "REFERENCE",
          "description": "데이터 모델 정의 참조",
          "lineStart": 144,
          "lineEnd": 202
        }
      ],
      "implementationGuide": "1. lib/types.ts 생성:\\n  - type TargetModel = 'gpt-4.1' | 'gemini-3-flash' | 'claude-sonnet-4'\\n  - type CriterionId = 'clarity' | 'document_grounding' | 'output_format' | 'difficulty_control' | 'answer_quality' | 'edge_cases' | 'model_optimization'\\n  - type Grade = 'A' | 'B' | 'C' | 'D' | 'F'\\n  - type PromptStatus = 'pending' | 'validated'\\n  - interface PromptInput { id: string; targetModel: TargetModel; promptText: string; createdAt: string; status: PromptStatus }\\n  - interface RubricScore { criterionId: CriterionId; criterionName: string; score: number; maxScore: number; feedback: string; suggestion: string }\\n  - interface ValidationResult { id: string; promptId: string; targetModel: string; totalScore: number; grade: Grade; rubricScores: RubricScore[]; overallFeedback: string; improvedPrompt: string; validatedAt: string }\\n  - interface RubricCriterion { id: CriterionId; name: string; maxScore: number; description: string }\\n\\n2. lib/rubrics.ts 생성:\\n  - RUBRIC_CRITERIA 상수 배열 (7개): clarity(20), document_grounding(15), output_format(15), difficulty_control(15), answer_quality(15), edge_cases(10), model_optimization(10)\\n  - MODEL_OPTIMIZATION_GUIDE: Record<TargetModel, { tips: string[] }> (GPT: system/user 역할 분리, JSON 모드 / Gemini: 문서 앞 배치, 섹션 구분 / Claude: XML 태그, 예시 포함)\\n  - calculateGrade(totalScore: number): Grade (90+=A, 80+=B, 70+=C, 60+=D, <60=F)\\n\\n3. lib/schemas.ts 생성:\\n  - import { z } from 'zod'\\n  - TARGET_MODELS = ['gpt-4.1', 'gemini-3-flash', 'claude-sonnet-4'] as const\\n  - promptInputSchema = z.object({ targetModel: z.enum(TARGET_MODELS), promptText: z.string().min(50, '프롬프트는 최소 50자 이상이어야 합니다') })\\n  - type PromptInputFormValues = z.infer<typeof promptInputSchema>\\n\\n4. data/ 디렉토리:\\n  - mkdir -p data/prompts data/results\\n  - touch data/prompts/.gitkeep data/results/.gitkeep",
      "verificationCriteria": "1. lib/types.ts에 TargetModel, CriterionId, Grade, PromptStatus, PromptInput, RubricScore, ValidationResult, RubricCriterion 타입이 PRD.md와 일치하게 정의됨\\n2. lib/rubrics.ts에 RUBRIC_CRITERIA 7개 항목의 maxScore 합계가 100임\\n3. lib/rubrics.ts의 calculateGrade 함수가 90+=A, 80+=B, 70+=C, 60+=D, <60=F를 정확히 반환\\n4. lib/schemas.ts의 promptInputSchema가 targetModel enum과 promptText min(50) 검증 동작\\n5. data/prompts/.gitkeep, data/results/.gitkeep 파일 존재\\n6. npm run build 에러 없음",
      "analysisResult": "Phase 1: 퀴즈 프롬프트 검증기 애플리케이션 골격 구축. Next.js 스타터킷에서 타입/스키마 정의, 라우트/레이아웃 전환, 데이터 액세스 레이어를 순차 구현하여 Phase 2 UI 구현의 기반을 마련한다. 기존 스타터킷 아키텍처(ThemeProvider + Header/Footer 레이아웃)를 유지하면서 내용만 프로젝트에 맞게 교체한다.",
      "summary": "lib/types.ts(8개 타입), lib/rubrics.ts(RUBRIC_CRITERIA 7개 항목 합계 100점, calculateGrade, MODEL_OPTIMIZATION_GUIDE), lib/schemas.ts(Zod v4 promptInputSchema), data/prompts/.gitkeep, data/results/.gitkeep 모두 생성 완료. TypeScript 컴파일 성공.",
      "completedAt": "2026-02-23T07:25:09.402Z"
    },
    {
      "id": "b95a9dba-8ffe-4ef4-94d0-5e7fbc8a9ebd",
      "name": "라우트 구조 및 레이아웃 전환",
      "description": "스타터킷 메인 페이지를 검증기 진입점으로 교체하고, results/[id]와 history 라우트를 생성하며, 로그인 관련 파일을 삭제하고, 레이아웃/네비게이션/헤더/푸터를 프로젝트에 맞게 수정한다.",
      "notes": "Next.js 16에서 동적 라우트의 params는 Promise 타입이므로 await params 패턴 사용. mobile-nav.tsx가 navItems를 import하므로 nav-items.ts 수정 시 자동 반영됨. header.tsx에서 로그인 관련 import와 JSX를 모두 제거해야 함.",
      "status": "completed",
      "dependencies": [
        {
          "taskId": "6f018171-2c0d-4a0c-bdd6-85d8fa9d77d1"
        }
      ],
      "createdAt": "2026-02-23T07:23:20.770Z",
      "updatedAt": "2026-02-23T07:26:15.182Z",
      "relatedFiles": [
        {
          "path": "app/page.tsx",
          "type": "TO_MODIFY",
          "description": "스타터킷 랜딩 → 검증하기 페이지로 전면 교체"
        },
        {
          "path": "app/layout.tsx",
          "type": "TO_MODIFY",
          "description": "metadata title/description 변경"
        },
        {
          "path": "lib/nav-items.ts",
          "type": "TO_MODIFY",
          "description": "네비게이션 항목을 검증하기/히스토리로 변경"
        },
        {
          "path": "lib/site-config.ts",
          "type": "TO_MODIFY",
          "description": "사이트명 및 URL 변경"
        },
        {
          "path": "components/layout/header.tsx",
          "type": "TO_MODIFY",
          "description": "로고 변경, 로그인 버튼 제거"
        },
        {
          "path": "components/layout/footer.tsx",
          "type": "TO_MODIFY",
          "description": "프로젝트에 맞게 텍스트 수정"
        },
        {
          "path": "app/results/[id]/page.tsx",
          "type": "CREATE",
          "description": "결과 상세 페이지 (빈 껍데기)"
        },
        {
          "path": "app/history/page.tsx",
          "type": "CREATE",
          "description": "히스토리 페이지 (빈 껍데기)"
        },
        {
          "path": "app/login/page.tsx",
          "type": "OTHER",
          "description": "삭제 대상"
        },
        {
          "path": "components/login-form.tsx",
          "type": "OTHER",
          "description": "삭제 대상"
        }
      ],
      "implementationGuide": "1. 삭제:\\n  - app/login/page.tsx 삭제\\n  - components/login-form.tsx 삭제\\n\\n2. app/layout.tsx 수정:\\n  - metadata title: '퀴즈 프롬프트 검증기'\\n  - metadata description: 'AI 메타프롬프트의 품질을 자동 평가하여 점수와 개선안을 제공하는 도구'\\n\\n3. lib/nav-items.ts 수정:\\n  - navItems = [{ href: '/', label: '검증하기' }, { href: '/history', label: '히스토리' }]\\n\\n4. lib/site-config.ts 수정:\\n  - siteConfig.githubUrl을 프로젝트 실제 URL로 변경 (또는 빈 문자열)\\n  - 사이트명 관련 필드가 있으면 '퀴즈 프롬프트 검증기'로 변경\\n\\n5. components/layout/header.tsx 수정:\\n  - 로고 텍스트: 'StarterKit' → '프롬프트 검증기'\\n  - 로그인 버튼(Link to /login) 제거\\n  - GitHub 링크는 유지 또는 제거 (site-config에 따라)\\n\\n6. components/layout/footer.tsx 수정:\\n  - 텍스트를 프로젝트에 맞게 변경\\n  - 저작권: 'StarterKit' → '퀴즈 프롬프트 검증기'\\n\\n7. app/page.tsx 전면 교체:\\n  - 서버 컴포넌트로 간단한 페이지 타이틀 + 설명 텍스트 렌더링\\n  - '검증하기' 제목, 설명 문구, 폼이 들어갈 자리 placeholder\\n\\n8. app/results/[id]/page.tsx 생성:\\n  - async 서버 컴포넌트, params에서 id 추출 (Next.js 16: params는 Promise)\\n  - '결과 상세' 제목 + id 표시 placeholder\\n\\n9. app/history/page.tsx 생성:\\n  - 서버 컴포넌트, '검증 히스토리' 제목 placeholder",
      "verificationCriteria": "1. app/login/page.tsx, components/login-form.tsx 삭제됨\\n2. / 경로에서 '검증하기' 관련 텍스트가 표시됨\\n3. /results/test-id 경로에서 id가 표시됨\\n4. /history 경로에서 히스토리 관련 텍스트가 표시됨\\n5. 헤더에 '프롬프트 검증기' 로고, 검증하기/히스토리 네비게이션 표시\\n6. 헤더에 로그인 버튼 없음\\n7. 푸터 텍스트가 프로젝트에 맞게 변경됨\\n8. npm run build 에러 없음",
      "analysisResult": "Phase 1: 퀴즈 프롬프트 검증기 애플리케이션 골격 구축. Next.js 스타터킷에서 타입/스키마 정의, 라우트/레이아웃 전환, 데이터 액세스 레이어를 순차 구현하여 Phase 2 UI 구현의 기반을 마련한다. 기존 스타터킷 아키텍처(ThemeProvider + Header/Footer 레이아웃)를 유지하면서 내용만 프로젝트에 맞게 교체한다.",
      "summary": "로그인 파일 삭제, layout metadata 변경, nav-items/site-config 업데이트, header 로고 변경 및 로그인 버튼 제거, footer 간소화, 메인 페이지 교체, results/[id] 및 history 빈 페이지 생성 완료. TypeScript 컴파일 에러 없음.",
      "completedAt": "2026-02-23T07:26:15.181Z"
    },
    {
      "id": "0f627963-32b8-4b60-8867-01eb174d2104",
      "name": "데이터 액세스 레이어 구현",
      "description": "lib/data.ts에 Node.js fs/promises 기반 파일 CRUD 유틸리티를 구현하고, .gitignore에 데이터 파일 제외 규칙을 추가한다.",
      "notes": "crypto.randomUUID()는 Node.js 내장이므로 별도 패키지 불필요. ensureDir은 recursive: true로 중첩 디렉토리도 안전하게 생성. getAllResults에서 .gitkeep 파일은 .json 필터로 자동 제외됨. 파일 읽기 실패 시 null 반환으로 에러 전파 방지.",
      "status": "completed",
      "dependencies": [
        {
          "taskId": "6f018171-2c0d-4a0c-bdd6-85d8fa9d77d1"
        }
      ],
      "createdAt": "2026-02-23T07:23:20.770Z",
      "updatedAt": "2026-02-23T07:26:53.656Z",
      "relatedFiles": [
        {
          "path": "lib/data.ts",
          "type": "CREATE",
          "description": "파일시스템 기반 데이터 CRUD 유틸리티"
        },
        {
          "path": "lib/types.ts",
          "type": "DEPENDENCY",
          "description": "PromptInput, ValidationResult 타입 import"
        },
        {
          "path": ".gitignore",
          "type": "TO_MODIFY",
          "description": "데이터 JSON 파일 제외 규칙 추가"
        }
      ],
      "implementationGuide": "1. lib/data.ts 생성:\\n  - import fs from 'fs/promises', path from 'path'\\n  - import { PromptInput, ValidationResult } from './types'\\n\\n  상수:\\n  - const DATA_DIR = path.join(process.cwd(), 'data')\\n  - const PROMPTS_DIR = path.join(DATA_DIR, 'prompts')\\n  - const RESULTS_DIR = path.join(DATA_DIR, 'results')\\n\\n  헬퍼:\\n  - async function ensureDir(dir: string): Promise<void> { await fs.mkdir(dir, { recursive: true }) }\\n\\n  함수:\\n  - savePrompt(input: { targetModel: TargetModel; promptText: string }): Promise<PromptInput>\\n    - id = crypto.randomUUID()\\n    - createdAt = new Date().toISOString()\\n    - status = 'pending'\\n    - ensureDir(PROMPTS_DIR)\\n    - fs.writeFile(path.join(PROMPTS_DIR, id + '.json'), JSON.stringify(prompt, null, 2))\\n    - return prompt\\n\\n  - getPrompt(id: string): Promise<PromptInput | null>\\n    - try { read + parse } catch { return null }\\n\\n  - getResult(id: string): Promise<ValidationResult | null>\\n    - try { read + parse } catch { return null }\\n\\n  - getAllResults(): Promise<ValidationResult[]>\\n    - ensureDir(RESULTS_DIR)\\n    - readdir → filter .json → Promise.all(map read+parse)\\n    - sort by validatedAt descending\\n\\n  - updatePromptStatus(id: string, status: PromptStatus): Promise<void>\\n    - getPrompt → update status → writeFile\\n\\n2. .gitignore 수정:\\n  - 추가: data/prompts/*.json\\n  - 추가: data/results/*.json",
      "verificationCriteria": "1. lib/data.ts에 savePrompt, getPrompt, getResult, getAllResults, updatePromptStatus 5개 함수 export\\n2. savePrompt 호출 시 data/prompts/{uuid}.json 파일 생성 (id, targetModel, promptText, createdAt, status: pending 포함)\\n3. getPrompt로 저장된 프롬프트 읽기 성공, 존재하지 않는 id는 null 반환\\n4. getResult로 결과 읽기 (파일 없으면 null)\\n5. getAllResults가 빈 배열 반환 (결과 파일 없을 때)\\n6. updatePromptStatus로 상태 변경 후 getPrompt로 확인\\n7. .gitignore에 data/prompts/*.json, data/results/*.json 추가됨\\n8. npm run build 에러 없음",
      "analysisResult": "Phase 1: 퀴즈 프롬프트 검증기 애플리케이션 골격 구축. Next.js 스타터킷에서 타입/스키마 정의, 라우트/레이아웃 전환, 데이터 액세스 레이어를 순차 구현하여 Phase 2 UI 구현의 기반을 마련한다. 기존 스타터킷 아키텍처(ThemeProvider + Header/Footer 레이아웃)를 유지하면서 내용만 프로젝트에 맞게 교체한다.",
      "summary": "lib/data.ts에 savePrompt, getPrompt, getResult, getAllResults, updatePromptStatus 5개 함수 구현 완료. crypto.randomUUID()로 ID 생성, fs/promises 기반 비동기 파일 I/O, 에러 시 null 반환 패턴 적용. .gitignore에 data/prompts/*.json, data/results/*.json 추가. TypeScript 컴파일 에러 없음.",
      "completedAt": "2026-02-23T07:26:53.654Z"
    },
    {
      "id": "235915bb-38d9-459d-8bd3-7eb846fc663f",
      "name": "공통 UI 컴포넌트 및 더미 데이터 구현",
      "description": "ScoreBadge, RubricScoreCard, HistoryCard 3개 공통 컴포넌트와 테스트용 더미 데이터를 구현한다.",
      "notes": "더미 데이터는 Phase 3에서 제거 예정. date-fns는 이미 설치됨. 다크모드 색상도 함께 지정.",
      "status": "completed",
      "dependencies": [],
      "createdAt": "2026-02-23T07:31:11.485Z",
      "updatedAt": "2026-02-23T07:32:50.947Z",
      "relatedFiles": [
        {
          "path": "lib/dummy-data.ts",
          "type": "CREATE",
          "description": "테스트용 더미 데이터"
        },
        {
          "path": "components/score-badge.tsx",
          "type": "CREATE",
          "description": "등급별 색상 뱃지"
        },
        {
          "path": "components/rubric-score-card.tsx",
          "type": "CREATE",
          "description": "루브릭 점수 카드"
        },
        {
          "path": "components/history-card.tsx",
          "type": "CREATE",
          "description": "히스토리 카드"
        },
        {
          "path": "lib/types.ts",
          "type": "DEPENDENCY",
          "description": "타입 import"
        }
      ],
      "implementationGuide": "1. lib/dummy-data.ts 생성:\\n  - DUMMY_PROMPT: PromptInput (id: 'dummy-1', targetModel: 'claude-sonnet-4', promptText: 200자 이상 샘플, status: 'validated')\\n  - DUMMY_RESULT: ValidationResult (totalScore: 78, grade: 'C', 7개 rubricScores 각각 피드백/제안 포함)\\n  - DUMMY_RESULTS: ValidationResult[] 3개 (A등급 92점, C등급 78점, F등급 45점)\\n  - DUMMY_PROMPTS_MAP: Record<string, PromptInput> (각 result의 promptId에 매칭)\\n\\n2. components/score-badge.tsx:\\n  - Props: { grade: Grade; totalScore?: number }\\n  - shadcn Badge 활용, cn()으로 등급별 배경색 적용\\n  - A: bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200\\n  - B: bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200\\n  - C: bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200\\n  - D: bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200\\n  - F: bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200\\n  - totalScore 있으면 '등급 (점수점)' 형태로 표시\\n\\n3. components/rubric-score-card.tsx:\\n  - Props: { rubricScore: RubricScore }\\n  - Card > CardHeader(항목명 + 점수/배점) + CardContent(feedback + suggestion)\\n  - 점수 비율에 따라 프로그레스 바 또는 텍스트 색상 변경\\n\\n4. components/history-card.tsx:\\n  - Props: { result: ValidationResult; promptText: string }\\n  - Link href={/results/result.promptId}로 전체 카드 클릭 이동\\n  - Card: 모델명, ScoreBadge, 프롬프트 미리보기(100자 truncate), date-fns로 검증일시 포맷",
      "verificationCriteria": "1. 3개 컴포넌트 파일 생성됨\\n2. ScoreBadge가 A~F 각 등급에 대해 올바른 색상 렌더링\\n3. RubricScoreCard가 항목명, 점수/배점, 피드백, 제안을 표시\\n4. HistoryCard가 모델명, 점수, 등급, 미리보기, 일시를 표시하고 Link로 이동\\n5. 더미 데이터가 타입과 일치\\n6. TypeScript 컴파일 에러 없음",
      "analysisResult": "Phase 2: UI 컴포넌트 구현 (더미 데이터 활용). Phase 1에서 완성된 타입, 루브릭, 스키마, 데이터 레이어를 기반으로 shadcn/ui 컴포넌트를 활용해 모든 페이지 UI를 더미 데이터로 완성한다. Phase 3에서 API 연동 시 더미 데이터만 교체하면 되는 구조.",
      "summary": "ScoreBadge(등급별 5색상+다크모드), RubricScoreCard(프로그레스바+피드백+제안), HistoryCard(모델명+점수+날짜+미리보기+Link) 3개 컴포넌트 생성. 더미 데이터 3세트(A/C/F 등급) 생성. TypeScript 컴파일 에러 없음.",
      "completedAt": "2026-02-23T07:32:50.939Z"
    },
    {
      "id": "5fe19245-1ddd-40ac-b4e5-a31a49c0b48c",
      "name": "메인 페이지 검증 폼 UI 구현",
      "description": "React Hook Form + Zod 연동 프롬프트 입력 폼을 구현하고 메인 페이지에 렌더링한다.",
      "notes": "zodResolver는 @hookform/resolvers에서 import. Select의 onValueChange를 field.onChange에 연결. Textarea는 최소 10줄 높이(240px).",
      "status": "completed",
      "dependencies": [
        {
          "taskId": "235915bb-38d9-459d-8bd3-7eb846fc663f"
        }
      ],
      "createdAt": "2026-02-23T07:31:11.485Z",
      "updatedAt": "2026-02-23T07:33:51.407Z",
      "relatedFiles": [
        {
          "path": "components/prompt-validator-form.tsx",
          "type": "CREATE",
          "description": "프롬프트 입력 폼 클라이언트 컴포넌트"
        },
        {
          "path": "app/page.tsx",
          "type": "TO_MODIFY",
          "description": "폼 컴포넌트 렌더링으로 교체"
        },
        {
          "path": "lib/schemas.ts",
          "type": "DEPENDENCY",
          "description": "promptInputSchema, PromptInputFormValues"
        }
      ],
      "implementationGuide": "1. components/prompt-validator-form.tsx 생성 ('use client'):\\n  - useForm<PromptInputFormValues>({ resolver: zodResolver(promptInputSchema), defaultValues: { targetModel: undefined, promptText: '' } })\\n  - FormField targetModel: Select + SelectTrigger + SelectContent + SelectItem 3개 모델\\n  - FormField promptText: Textarea className='min-h-[240px]' placeholder='메타프롬프트를 입력하세요...'\\n  - onSubmit: console.log(values) + toast('검증 요청이 접수되었습니다') (Phase 3에서 API 연동)\\n  - Button type='submit': '검증 요청 제출'\\n\\n2. app/page.tsx 수정:\\n  - import PromptValidatorForm\\n  - 플레이스홀더 div를 <PromptValidatorForm /> 으로 교체",
      "verificationCriteria": "1. 폼에서 모델 선택 드롭다운 동작\\n2. 텍스트 영역에 50자 미만 입력 시 에러 메시지 표시\\n3. 모델 미선택 시 에러 메시지 표시\\n4. 유효한 입력 후 제출 시 console.log 출력\\n5. TypeScript 컴파일 에러 없음",
      "analysisResult": "Phase 2: UI 컴포넌트 구현 (더미 데이터 활용). Phase 1에서 완성된 타입, 루브릭, 스키마, 데이터 레이어를 기반으로 shadcn/ui 컴포넌트를 활용해 모든 페이지 UI를 더미 데이터로 완성한다. Phase 3에서 API 연동 시 더미 데이터만 교체하면 되는 구조.",
      "summary": "PromptValidatorForm 클라이언트 컴포넌트 생성 (React Hook Form + Zod + Select + Textarea). app/page.tsx에서 폼 렌더링. 모델 선택, 프롬프트 입력, 유효성 검사 에러 메시지, 제출 시 toast 표시 동작. TypeScript 에러 없음.",
      "completedAt": "2026-02-23T07:33:51.398Z"
    },
    {
      "id": "e1e0f68e-72b6-457b-8ef8-8bfdda81911b",
      "name": "결과 상세 페이지 UI 구현",
      "description": "검증 결과 탭 UI와 대기 상태 UI를 구현하고, 결과 페이지에 더미 데이터로 렌더링한다.",
      "notes": "Tabs는 클라이언트 컴포넌트이므로 validation-result.tsx에 use client 필요. pre 블록에 whitespace-pre-wrap 적용.",
      "status": "completed",
      "dependencies": [
        {
          "taskId": "235915bb-38d9-459d-8bd3-7eb846fc663f"
        }
      ],
      "createdAt": "2026-02-23T07:31:11.485Z",
      "updatedAt": "2026-02-23T07:34:49.452Z",
      "relatedFiles": [
        {
          "path": "components/validation-pending.tsx",
          "type": "CREATE",
          "description": "검증 대기 상태 UI"
        },
        {
          "path": "components/validation-result.tsx",
          "type": "CREATE",
          "description": "검증 결과 탭 UI"
        },
        {
          "path": "app/results/[id]/page.tsx",
          "type": "TO_MODIFY",
          "description": "더미 데이터로 결과 UI 렌더링"
        }
      ],
      "implementationGuide": "1. components/validation-pending.tsx 생성:\\n  - 안내 메시지: '아직 검증이 완료되지 않았습니다'\\n  - /validate 실행 안내 텍스트\\n  - Alert 컴포넌트 활용 (info 스타일)\\n\\n2. components/validation-result.tsx 생성 ('use client'):\\n  - Props: { result: ValidationResult; promptText: string }\\n  - 헤더 영역: 총점 크게 표시 + ScoreBadge + overallFeedback\\n  - Tabs defaultValue='rubric-scores':\\n    - TabsTrigger 'rubric-scores': '항목별 점수'\\n    - TabsTrigger 'improved': '개선된 프롬프트'\\n    - TabsTrigger 'original': '원본 프롬프트'\\n  - TabsContent 'rubric-scores': RubricScoreCard 7개 map\\n  - TabsContent 'improved': pre/code 블록으로 improvedPrompt 표시\\n  - TabsContent 'original': pre/code 블록으로 promptText 표시\\n\\n3. app/results/[id]/page.tsx 수정:\\n  - 더미 데이터 import하여 조건부 렌더링\\n  - id가 더미 ID면 ValidationResult, 아니면 ValidationPending",
      "verificationCriteria": "1. 더미 ID로 접근 시 결과 탭 UI 표시\\n2. 알 수 없는 ID로 접근 시 대기 상태 UI 표시\\n3. 탭 전환 동작 (항목별 점수, 개선된 프롬프트, 원본)\\n4. 7개 루브릭 점수 카드 모두 표시\\n5. TypeScript 컴파일 에러 없음",
      "analysisResult": "Phase 2: UI 컴포넌트 구현 (더미 데이터 활용). Phase 1에서 완성된 타입, 루브릭, 스키마, 데이터 레이어를 기반으로 shadcn/ui 컴포넌트를 활용해 모든 페이지 UI를 더미 데이터로 완성한다. Phase 3에서 API 연동 시 더미 데이터만 교체하면 되는 구조.",
      "summary": "ValidationPending(Alert+Clock 아이콘+/validate 안내), ValidationResult(Tabs 3개 탭: 항목별 점수/개선 프롬프트/원본) 컴포넌트 생성. results/[id] 페이지에서 더미 ID면 결과 표시, 아니면 대기 상태 표시. TypeScript 에러 없음.",
      "completedAt": "2026-02-23T07:34:49.438Z"
    },
    {
      "id": "09f0b7c8-38bb-40f2-afa8-8cecf69196ba",
      "name": "히스토리 페이지 UI 구현",
      "description": "히스토리 페이지에 HistoryCard 목록을 더미 데이터로 렌더링하고, 빈 상태 안내를 구현한다.",
      "notes": "Phase 3에서 더미 데이터를 getAllResults()로 교체 예정.",
      "status": "completed",
      "dependencies": [
        {
          "taskId": "235915bb-38d9-459d-8bd3-7eb846fc663f"
        }
      ],
      "createdAt": "2026-02-23T07:31:11.485Z",
      "updatedAt": "2026-02-23T07:35:15.342Z",
      "relatedFiles": [
        {
          "path": "app/history/page.tsx",
          "type": "TO_MODIFY",
          "description": "더미 데이터로 히스토리 카드 목록 렌더링"
        },
        {
          "path": "lib/dummy-data.ts",
          "type": "DEPENDENCY",
          "description": "더미 데이터"
        }
      ],
      "implementationGuide": "1. app/history/page.tsx 수정:\\n  - DUMMY_RESULTS, DUMMY_PROMPTS_MAP import\\n  - 결과 있을 때: HistoryCard 목록 렌더링 (grid 또는 flex-col gap-4)\\n  - 결과 없을 때: 빈 상태 안내 메시지 ('아직 검증 결과가 없습니다. 메인 페이지에서 프롬프트를 제출해보세요.')\\n  - 이미 최신순 정렬된 더미 데이터 사용",
      "verificationCriteria": "1. 히스토리 페이지에 3개 더미 카드 표시\\n2. 각 카드에 모델명, 총점, 등급, 미리보기, 일시 표시\\n3. 카드 클릭 시 /results/{id} 이동\\n4. TypeScript 컴파일 에러 없음",
      "analysisResult": "Phase 2: UI 컴포넌트 구현 (더미 데이터 활용). Phase 1에서 완성된 타입, 루브릭, 스키마, 데이터 레이어를 기반으로 shadcn/ui 컴포넌트를 활용해 모든 페이지 UI를 더미 데이터로 완성한다. Phase 3에서 API 연동 시 더미 데이터만 교체하면 되는 구조.",
      "summary": "히스토리 페이지에 DUMMY_RESULTS 3개 카드 렌더링, 빈 상태 안내 메시지 구현, HistoryCard에서 /results/{id}로 Link 이동. TypeScript 에러 없음.",
      "completedAt": "2026-02-23T07:35:15.325Z"
    },
    {
      "id": "ee920f83-b693-40fb-89fa-dc9d3e312c04",
      "name": "API 라우트 구현",
      "description": "POST /api/prompts, GET /api/results/[id], GET /api/prompts/[id]/status 3개 API 엔드포인트를 구현한다.",
      "notes": "Next.js 16 API 라우트에서 params는 Promise 타입. NextResponse는 next/server에서 import.",
      "status": "completed",
      "dependencies": [],
      "createdAt": "2026-02-23T07:36:30.307Z",
      "updatedAt": "2026-02-23T07:39:56.838Z",
      "relatedFiles": [
        {
          "path": "app/api/prompts/route.ts",
          "type": "CREATE",
          "description": "프롬프트 저장 API"
        },
        {
          "path": "app/api/results/[id]/route.ts",
          "type": "CREATE",
          "description": "결과 조회 API"
        },
        {
          "path": "app/api/prompts/[id]/status/route.ts",
          "type": "CREATE",
          "description": "상태 조회 API"
        },
        {
          "path": "lib/data.ts",
          "type": "DEPENDENCY",
          "description": "CRUD 함수"
        },
        {
          "path": "lib/schemas.ts",
          "type": "DEPENDENCY",
          "description": "Zod 스키마"
        }
      ],
      "implementationGuide": "1. app/api/prompts/route.ts 생성:\\n  - POST 핸들러: request.json()으로 body 추출\\n  - promptInputSchema.safeParse()로 검증\\n  - 실패 시 400 + { error, details: result.error.flatten() }\\n  - 성공 시 savePrompt(data) 호출\\n  - 201 + NextResponse.json(prompt)\\n  - try/catch로 500 에러 처리\\n\\n2. app/api/results/[id]/route.ts 생성:\\n  - GET 핸들러: params에서 id 추출 (Next.js 16 Promise 패턴)\\n  - getResult(id) 호출\\n  - 결과 있으면 200 + JSON, null이면 404 + { error: '결과를 찾을 수 없습니다' }\\n\\n3. app/api/prompts/[id]/status/route.ts 생성:\\n  - GET 핸들러: getPrompt(id) 호출\\n  - 있으면 200 + { status: prompt.status }, 없으면 404",
      "verificationCriteria": "1. POST /api/prompts에 유효한 데이터 전송 시 201 응답 + data/prompts/에 파일 생성\\n2. 잘못된 데이터 전송 시 400 응답\\n3. GET /api/results/{id}로 결과 조회 가능\\n4. TypeScript 에러 없음",
      "analysisResult": "Phase 3: API 및 핵심 기능 연동. Phase 2에서 더미 데이터로 완성된 UI를 실제 API와 데이터로 연결한다. lib/data.ts CRUD를 API 라우트와 서버 컴포넌트에서 활용하고, /validate 슬래시 커맨드를 생성한다.",
      "summary": "POST /api/prompts (Zod 검증+savePrompt+201), GET /api/results/[id] (getResult+404), GET /api/prompts/[id]/status (getPrompt+status 반환) 3개 API 라우트 구현 완료. Next.js 16 Promise params 패턴 적용. TypeScript 컴파일 에러 없음.",
      "completedAt": "2026-02-23T07:39:56.836Z"
    },
    {
      "id": "ef7e5b94-9190-478a-b759-9c4deafa27c7",
      "name": "폼 제출 및 결과 페이지 API 연동",
      "description": "폼 제출을 실제 API로 연동하고, 결과 페이지를 실제 데이터로 렌더링한다.",
      "notes": "서버 컴포넌트에서는 lib/data.ts를 직접 호출 (API 거치지 않음). 클라이언트 컴포넌트에서만 fetch 사용.",
      "status": "completed",
      "dependencies": [
        {
          "taskId": "ee920f83-b693-40fb-89fa-dc9d3e312c04"
        }
      ],
      "createdAt": "2026-02-23T07:36:30.307Z",
      "updatedAt": "2026-02-23T07:40:38.513Z",
      "relatedFiles": [
        {
          "path": "components/prompt-validator-form.tsx",
          "type": "TO_MODIFY",
          "description": "API 연동으로 교체"
        },
        {
          "path": "app/results/[id]/page.tsx",
          "type": "TO_MODIFY",
          "description": "실제 데이터 조회로 교체"
        }
      ],
      "implementationGuide": "1. components/prompt-validator-form.tsx 수정:\\n  - import { useRouter } from 'next/navigation'\\n  - onSubmit을 async로 변경\\n  - fetch('/api/prompts', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(values) })\\n  - 응답 성공 시 toast + router.push('/results/' + data.id)\\n  - 실패 시 toast.error('제출에 실패했습니다')\\n  - 제출 중 버튼 disabled + 로딩 상태 (form.formState.isSubmitting)\\n\\n2. app/results/[id]/page.tsx 수정:\\n  - 더미 데이터 import 제거\\n  - getResult(id), getPrompt(id) 직접 호출 (서버 컴포넌트)\\n  - result && prompt이면 ValidationResult, 아니면 ValidationPending",
      "verificationCriteria": "1. 폼 제출 시 실제 API 호출 후 결과 페이지로 이동\\n2. 결과 페이지에서 실제 데이터 또는 대기 상태 표시\\n3. TypeScript 에러 없음",
      "analysisResult": "Phase 3: API 및 핵심 기능 연동. Phase 2에서 더미 데이터로 완성된 UI를 실제 API와 데이터로 연결한다. lib/data.ts CRUD를 API 라우트와 서버 컴포넌트에서 활용하고, /validate 슬래시 커맨드를 생성한다.",
      "summary": "폼 제출을 POST /api/prompts fetch 호출로 교체, 성공 시 toast+router.push, 실패 시 toast.error 처리. 결과 페이지를 더미 데이터에서 getResult/getPrompt 직접 호출로 교체. 제출 중 버튼 disabled 상태 추가. TypeScript 에러 없음.",
      "completedAt": "2026-02-23T07:40:38.511Z"
    },
    {
      "id": "a2e3b2f8-08f4-4aaa-b736-0222e0f356a4",
      "name": "히스토리 연동 및 /validate 커맨드 생성",
      "description": "히스토리 페이지를 실제 데이터로 연동하고, .claude/commands/validate.md 슬래시 커맨드를 생성한다.",
      "notes": "validate.md는 Claude Code가 해석하는 프롬프트 파일. 실제 평가 로직은 Claude Code가 수행.",
      "status": "completed",
      "dependencies": [
        {
          "taskId": "ef7e5b94-9190-478a-b759-9c4deafa27c7"
        }
      ],
      "createdAt": "2026-02-23T07:36:30.307Z",
      "updatedAt": "2026-02-23T07:41:44.182Z",
      "relatedFiles": [
        {
          "path": "app/history/page.tsx",
          "type": "TO_MODIFY",
          "description": "실제 데이터 조회로 교체"
        },
        {
          "path": ".claude/commands/validate.md",
          "type": "CREATE",
          "description": "/validate 슬래시 커맨드"
        }
      ],
      "implementationGuide": "1. app/history/page.tsx 수정:\\n  - 더미 데이터 import 제거\\n  - getAllResults() 호출 (서버 컴포넌트에서 직접)\\n  - 각 result에 대해 getPrompt(result.promptId) 호출하여 promptText 조회\\n  - results.length === 0이면 빈 상태 UI\\n\\n2. .claude/commands/validate.md 생성:\\n  - 커맨드 설명: pending 상태 프롬프트를 찾아 루브릭 평가 수행\\n  - 단계: data/prompts/에서 status:pending 파일 탐색 -> 7개 루브릭 기준 평가 -> data/results/{id}.json 생성 -> status validated로 업데이트\\n  - 루브릭 기준 7개 항목 배점 명시\\n  - 모델별 최적화 가이드 포함",
      "verificationCriteria": "1. 히스토리 페이지에서 실제 결과 파일 기반 카드 목록 표시\\n2. 결과 없으면 빈 상태 안내\\n3. .claude/commands/validate.md 파일 존재\\n4. TypeScript 에러 없음",
      "analysisResult": "Phase 3: API 및 핵심 기능 연동. Phase 2에서 더미 데이터로 완성된 UI를 실제 API와 데이터로 연결한다. lib/data.ts CRUD를 API 라우트와 서버 컴포넌트에서 활용하고, /validate 슬래시 커맨드를 생성한다.",
      "summary": "히스토리 페이지를 getAllResults()+getPrompt() 실제 데이터 조회로 교체 완료. .claude/commands/validate.md 슬래시 커맨드 생성: 7개 루브릭 기준(100점), 모델별 최적화 가이드, 등급 기준, 결과 JSON 형식, 상태 업데이트 절차 명시. TypeScript 에러 없음.",
      "completedAt": "2026-02-23T07:41:44.180Z"
    },
    {
      "id": "15202d60-4109-41c7-bef2-86e56578d623",
      "name": "통합 테스트 및 빌드 검증",
      "description": "전체 플로우를 Playwright MCP로 E2E 테스트하고 npm run build 성공을 확인한다.",
      "notes": "E2E 테스트는 Playwright MCP 도구 활용. 빌드 에러 해결이 우선.",
      "status": "completed",
      "dependencies": [
        {
          "taskId": "a2e3b2f8-08f4-4aaa-b736-0222e0f356a4"
        }
      ],
      "createdAt": "2026-02-23T07:36:30.307Z",
      "updatedAt": "2026-02-23T07:43:10.866Z",
      "relatedFiles": [],
      "implementationGuide": "1. npm run dev로 개발 서버 실행\\n2. Playwright MCP 테스트:\\n  - 메인 페이지 접근 -> 모델 선택 -> 프롬프트 입력 -> 제출 -> 결과 페이지 이동 확인\\n  - 결과 페이지 대기 상태 UI 확인\\n  - 히스토리 페이지 접근 -> 카드 목록 확인\\n  - 카드 클릭 -> 결과 상세 이동 확인\\n3. npm run build 에러 없는지 확인\\n4. 더미 데이터 참조 제거 확인 (lib/dummy-data.ts는 유지하되 페이지에서 미사용)",
      "verificationCriteria": "1. npm run build 성공 (TypeScript + 빌드 에러 없음)\\n2. 메인 -> 제출 -> 결과 페이지 플로우 동작\\n3. 히스토리 페이지 데이터 로딩 동작\\n4. 모든 페이지 정상 렌더링",
      "analysisResult": "Phase 3: API 및 핵심 기능 연동. Phase 2에서 더미 데이터로 완성된 UI를 실제 API와 데이터로 연결한다. lib/data.ts CRUD를 API 라우트와 서버 컴포넌트에서 활용하고, /validate 슬래시 커맨드를 생성한다.",
      "summary": "E2E 테스트 완료: 메인→모델선택→프롬프트입력→제출→결과페이지(대기상태) 플로우 정상, 토스트 알림 정상, 히스토리 페이지 빈 상태 정상. npx next build 성공 (TypeScript 에러 없음, 6개 라우트 정상 등록). Phase 3 전체 완료.",
      "completedAt": "2026-02-23T07:43:10.865Z"
    },
    {
      "id": "3c7885a8-5898-4313-923a-87c9dd908777",
      "name": "반응형 디자인 및 UX 개선",
      "description": "모바일 반응형 점검, 탭 UI 모바일 최적화, Textarea 자동 높이 조절 및 글자 수 카운터, 폼 제출 로딩 상태, 접근성 점검을 수행한다.",
      "notes": "Tailwind CSS v4 브레이크포인트 사용. shadcn/ui 컴포넌트는 Radix UI 기반으로 접근성이 기본 제공됨.",
      "status": "completed",
      "dependencies": [
        {
          "taskId": "15202d60-4109-41c7-bef2-86e56578d623"
        }
      ],
      "createdAt": "2026-02-23T07:39:05.853Z",
      "updatedAt": "2026-02-23T07:44:05.823Z",
      "relatedFiles": [
        {
          "path": "components/prompt-validator-form.tsx",
          "type": "TO_MODIFY",
          "description": "글자 수 카운터, 로딩 상태 추가"
        },
        {
          "path": "components/validation-result.tsx",
          "type": "TO_MODIFY",
          "description": "탭 모바일 최적화"
        },
        {
          "path": "app/page.tsx",
          "type": "TO_MODIFY",
          "description": "반응형 타이포그래피"
        },
        {
          "path": "app/results/[id]/page.tsx",
          "type": "TO_MODIFY",
          "description": "반응형 타이포그래피"
        },
        {
          "path": "app/history/page.tsx",
          "type": "TO_MODIFY",
          "description": "반응형 타이포그래피"
        }
      ],
      "implementationGuide": "1. prompt-validator-form.tsx: Textarea에 글자 수 카운터 추가 (watch로 실시간 길이 표시, 50자 미만 시 text-destructive), 제출 중 Button disabled + Loader2 스피너 아이콘\\n2. validation-result.tsx: TabsList에 모바일에서 overflow-x-auto 추가\\n3. 전체 페이지: 모바일 간격/폰트 크기 점검 (text-3xl -> text-2xl sm:text-3xl 등)\\n4. 접근성: aria-label 추가 필요한 곳 점검, Radix UI 기본 키보드 네비게이션 확인",
      "verificationCriteria": "1. 모바일 뷰포트(375px)에서 모든 페이지 깨짐 없이 표시\\n2. Textarea 글자 수 카운터가 실시간 업데이트\\n3. 폼 제출 중 버튼 비활성화 및 스피너 표시\\n4. 탭이 좁은 화면에서 스크롤 가능\\n5. npx tsc --noEmit 타입 에러 없음",
      "analysisResult": "Phase 4 마무리: 반응형/UX 개선 및 코드 정리/문서 업데이트. 핵심 기능 완성 후 품질 향상 단계.",
      "summary": "글자 수 카운터 추가 (50자 미만 시 text-destructive), Loader2 스피너 로딩 상태, 3개 페이지 반응형 타이포그래피 (text-2xl sm:text-3xl), 탭 overflow-x-auto 모바일 최적화 완료. FormDescription 활용. TypeScript 에러 없음.",
      "completedAt": "2026-02-23T07:44:05.821Z"
    },
    {
      "id": "40f9ed4c-308d-4b7d-aa80-8b08e92c7657",
      "name": "코드 정리 및 문서 업데이트",
      "description": "더미 데이터 파일 제거, CLAUDE.md 최종 업데이트, 린트/포맷팅 정리, 스타터킷 잔여 코드 제거, 최종 빌드 성공 확인을 수행한다.",
      "notes": "더미 데이터 삭제는 Phase 3 API 연동이 완료된 후에만 가능. 빌드 시 Next.js 16 /_global-error InvariantError는 프레임워크 이슈로 무시 가능.",
      "status": "completed",
      "dependencies": [
        {
          "taskId": "3c7885a8-5898-4313-923a-87c9dd908777"
        }
      ],
      "createdAt": "2026-02-23T07:39:05.853Z",
      "updatedAt": "2026-02-23T07:46:08.529Z",
      "relatedFiles": [
        {
          "path": "lib/dummy-data.ts",
          "type": "TO_MODIFY",
          "description": "삭제 대상"
        },
        {
          "path": "CLAUDE.md",
          "type": "TO_MODIFY",
          "description": "최종 업데이트"
        },
        {
          "path": "docs/ROADMAP.md",
          "type": "TO_MODIFY",
          "description": "완료 표시"
        },
        {
          "path": "app/page.tsx",
          "type": "REFERENCE",
          "description": "잔여 코드 확인"
        },
        {
          "path": "components/layout/header.tsx",
          "type": "REFERENCE",
          "description": "잔여 코드 확인"
        }
      ],
      "implementationGuide": "1. lib/dummy-data.ts 삭제 (Phase 3에서 실제 데이터로 교체 완료 후)\\n2. CLAUDE.md 업데이트: 구현된 디렉토리 구조 반영, /validate 커맨드 사용법 추가, 데이터 플로우 최종 확인\\n3. npm run lint 실행 및 자동 수정\\n4. 사용하지 않는 스타터킷 잔여 파일 식별 및 제거\\n5. npx next build로 최종 빌드 성공 확인\\n6. ROADMAP.md에 모든 Task 완료 표시",
      "verificationCriteria": "1. lib/dummy-data.ts 파일 삭제 완료\\n2. CLAUDE.md에 최신 디렉토리 구조, /validate 사용법 반영\\n3. npm run lint 에러 없음\\n4. npx next build 성공 (/_global-error 프레임워크 이슈 제외)\\n5. ROADMAP.md 모든 Task 완료 표시",
      "analysisResult": "Phase 4 마무리: 반응형/UX 개선 및 코드 정리/문서 업데이트. 핵심 기능 완성 후 품질 향상 단계.",
      "summary": "dummy-data.ts 삭제, CLAUDE.md 최종 업데이트(디렉토리 구조/API 라우트/validate 커맨드 반영), ROADMAP.md 전체 Task 완료 표시, npm run lint 에러 없음, npx next build 성공. Phase 1~4 전체 개발 완료.",
      "completedAt": "2026-02-23T07:46:08.528Z"
    }
  ]
}